<!DOCTYPE html>
<html lang="en">
<head>    
    <link href="./../css/bootstrap.min.css" rel="stylesheet">
    <link href="./../css/style.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@100;500;900&display=swap" rel="stylesheet">
    <title>Chenab Gas Agency</title>
</head>
<body style="background-color: #333333; padding: 1% 2%;font-family: 'Roboto', sans-serif;">


    <div class="main-body-wrapper" style="display: flex;color: #ffffff;">        

        <div style="display: flex;width: 35%;border-right: 5px solid #ffffff;position: fixed;">

            <div style="display: flex;flex-direction: column;">

                <div class="stock-tab-wrapper">
                    <h2>Stock</h2>
                    <p id="stock-number-of-cylinders-11-kg"></p>
                    <p id="stock-number-of-cylinders-15-kg"></p>
                    <p id="stock-number-of-cylinders-45-kg"></p>
                    <button id="stock-details-btn" class="btn btn-primary" onclick="showStockDetailsDiv()">Stock Details</button>
                </div>

                <div class="market-money-tab-wrapper mt-5">
                    <h2>Customer's</h2>
                    <div>
                        <button class="btn btn-primary" onclick="showAddNewCustomerDiv()">Add New Customer</button>
                    </div>
                    <div>
                        <button class="btn btn-primary mt-2" onclick="showSaleGasToCustomerDiv()">Sale Gas To Customer</button>
                    </div>                    
                    <div>
                        <button class="btn btn-primary mt-2" onclick="showReceivePaymentDiv()">Receive Payment</button>
                    </div>        
                    <div>
                        <button class="btn btn-primary mt-2" onclick="showReceiveCylindersDiv()">Receive Cylinders</button>
                    </div>
                    <div>
                        <button class="btn btn-primary mt-2" onclick="showCustomerDetailsDiv()">Customer Details</button>
                    </div>  
                </div>

            </div>        
            
    
            <div class="right-side-wrapper" style="display: flex;flex-direction: column;color: #ffffff;padding: 0px 50px;">
    
                <div class="market-money-tab-wrapper">
                    <h2>Market</h2>
                    <p id="total-money-in-market"></p>
                    <p id="market-number-of-cylinders-11-kg"></p>
                    <p id="market-number-of-cylinders-15-kg"></p>
                    <p id="market-number-of-cylinders-45-kg"></p>
                    <button id="market-details-btn" class="btn btn-primary" onclick="showMarketDetailsDiv()">Details</button>
                </div>
    
                <div class="plant-money-tab-wrapper mt-5">
                    <h2>Plant Money</h2>
                    <p id="plant-money-chenab"></p> 
                    <p id="plant-money-super"></p> 
                    <div>
                        <button id="buy-gas-btn" class="btn btn-primary" onclick="showBuyGasDiv()">Buy Gas</button>                    
                    </div>
                    <div class="mt-2">
                        <button id="pay-plant-money-btn" class="btn btn-primary" onclick="showPayPlantMoneyDiv()">Pay Plant Money</button>
                    </div>
                    <div class="mt-2">
                        <button id="view-buy-history-btn" class="btn btn-primary" onclick="showViewBuyHistoryDiv()">View Buy History</button>
                    </div>   
                    <div class="mt-2">
                        <button id="view-payment-history-btn" class="btn btn-primary" onclick="showPaymentHistoryDiv()">View Payment History</button>
                    </div>    
                </div>
            </div>     
        </div>

        <div id="hidden-divs-wrapper" style="width: 63%;position: absolute;right: 0px;">

            <div style="width: 100%;display: none;justify-content: center;flex-direction: column;
                align-items: center;align-self: baseline;" id="buy-gas-div">
                    <!-- BUY GAS DIV -->
            </div>        
    
            <div style="width: 100%;display: none;justify-content: center;flex-direction: column;
                color: #ffffff;align-self: baseline;" id="view-buy-history-div">
                    <!-- BUY HISTORY DIV -->
            </div>
    
            <div style="width: 100%;display: none;justify-content: center;flex-direction: column;
                color: #ffffff;align-self: baseline;" id="pay-plant-money-div">
                    <!-- PAY PLANT MONEY DIV -->
            </div>
    
            <div style="width: 100%;display: none;justify-content: center;flex-direction: column;
                color: #ffffff;align-self: baseline;" id="view-payment-history-div">
                    <!-- PAYMENT HISTORY DIV -->
            </div>

            <div style="width: 100%;display: none;justify-content: center;flex-direction: column;
                color: #ffffff;align-self: baseline;" id="add-new-customer-div">
                    <!-- ADD NEW CUSTOMER DIV -->
            </div>

            <div style="width: 100%;display: none;justify-content: center;flex-direction: column;
                color: #ffffff;align-self: baseline;" id="sale-gas-to-customer-div">
                    <!-- ADD NEW CUSTOMER DIV -->
            </div>

            <div style="width: 100%;display: none;justify-content: center;flex-direction: column;
                color: #ffffff;align-self: baseline;align-items: center;" id="stock-details-div">
                    <!-- STOCK DETAILS DIV -->
            </div>

            <div style="width: 100%;display: none;justify-content: center;flex-direction: column;
                color: #ffffff;align-self: baseline;align-items: center;" id="market-details-div">
                    <!-- MARKET DETAILS DIV -->
            </div>

            <div style="width: 100%;display: none;justify-content: center;flex-direction: column;
                color: #ffffff;align-self: baseline;align-items: center;" id="receive-payment-div">
                    <!-- RECEIVE PAYMENT DIV -->
            </div>

            <div style="width: 100%;display: none;justify-content: center;flex-direction: column;
                color: #ffffff;align-self: baseline;align-items: center;" id="receive-cylinders-div">
                    <!-- RECEIVE CYLINDERS DIV -->
            </div>

            <div style="width: 100%;display: none;justify-content: center;flex-direction: column;
                color: #ffffff;align-self: baseline;align-items: center;" id="customer-details-div">
                    <!-- CUSTOMER DETIALS DIV -->
            </div>
  
        </div> 
        
        <!-- payment history modal -->
        <div class="modal fade" id="edit-payment-history-table-modal" tabindex="-1" role="dialog" aria-hidden="true">
            <div class="modal-dialog">
              <div class="modal-content" style="color: black;">
                <div class="modal-header">
                  <h5 class="modal-title">Edit Payment History</h5>
                  <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                  </button>
                </div>
                <div class="modal-body">
                    <span id="edit-payment-history-id"></span>
                    <div style="display: flex;justify-content: center;align-items: baseline;">
                        <div class="mr-3"><p>Date</p></div>                        
                        <input type="date" id="edit-payment-history-date">
                    </div>
                    <div class="mt-3" style="display: flex;justify-content: center;align-items: baseline;">
                        <div class="mr-3"><p>Amount</p></div>                        
                        <input type="number" id="edit-payment-history-amount" oninput="validity.valid||(value='');" min="0">
                    </div>
                </div>
                <div class="modal-footer">
                    <span id="edit-payment-history-mode"></span>
                    <button type="button" class="btn btn-secondary" id="edit-payment-history-close-btn" data-dismiss="modal">Close</button>
                    <button type="button" class="btn btn-primary" id="edit-payment-history-confirm-btn" onclick="updateEditPaymentHistory()">Save changes</button>
                </div>
              </div>
            </div>
          </div>   
          

          <!-- buy history modal -->
          <div class="modal fade" id="edit-buy-history-table-modal" tabindex="-1" role="dialog" aria-hidden="true">
            <div class="modal-dialog">
              <div class="modal-content" style="color: black;">
                <div class="modal-header">
                  <h5 class="modal-title">Edit Buy History</h5>
                  <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                  </button>
                </div>
                <div class="modal-body" style="display: flex;flex-direction: column;justify-content: center;align-items: center;">
                    <span id="edit-buy-history-id"></span>
                    <span id="edit-buy-history-mode"></span>
                    <div class="mt-3" style="display: flex;flex-direction: column;justify-content: center;
                        text-align: center;align-items: flex-end;" id="edit-buy-history-menu">
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" id="edit-buy-history-close-btn" data-dismiss="modal">Close</button>
                    <button type="button" class="btn btn-primary" id="edit-buy-history-confirm-btn" onclick="updateEditBuyHistory()">Save changes</button>
                </div>
              </div>
            </div>
          </div>   


          <div class="modal fade" id="edit-sale-history-table-modal" tabindex="-1" role="dialog" aria-hidden="true">
            <div class="modal-dialog">
              <div class="modal-content" style="color: black;">
                <div class="modal-header">
                  <h5 class="modal-title">Edit Sale History</h5>
                  <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                  </button>
                </div>
                <div class="modal-body" style="display: flex;flex-direction: column;justify-content: center;align-items: center;">
                    <div class="mt-3" style="display: flex;flex-direction: column;justify-content: center;
                        text-align: center;align-items: flex-end;" id="edit-sale-history-menu">
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" id="edit-buy-history-close-btn" data-dismiss="modal">Close</button>
                    <button type="button" class="btn btn-primary" id="edit-buy-history-confirm-btn" onclick="updateEditSaleHistory()">Save changes</button>
                </div>
              </div>
            </div>
          </div>   

    </div>

    <script src="./../js/jquery.min.js"></script>
    <script src="./../js/jquery-3.5.1.slim.min.js"></script>
    <script src="./../js/bootstrap.min.js"></script>
    <script src="./../js/popper.min.js"></script>

    <script>
        let { remote } = require('electron'),
        win = remote.getCurrentWindow();
        dialog = remote.dialog;
    </script>
    
    <script src="./../js/buy-gas-div.js"></script>
    <script src="./../js/pay-plant-money-div.js"></script>
    <script src="./../js/buy-history-div.js"></script>
    <script src="./../js/payment-history-div.js"></script>
    <script src="./../js/add-new-customer-div.js"></script>
    <script src="./../js/sale-gas-to-customer.js"></script>
    <script src="./../js/stock-details-div.js"></script>
    <script src="./../js/market-details-div.js"></script>
    <script src="./../js/receive-payment-div.js"></script>
    <script src="./../js/receive-cylinders-div.js"></script>
    <script src="./../js/customer-details-div.js"></script>
    <script src="./../database/DatabaseQueries.js" type="text/javascript"></script>
    <script src="./../js/util.js" type="text/javascript"></script>  

    <script>
        // run these functions only once when app loads
        let allDivs = []

        allDivs.push($('#buy-gas-div')[0])
        allDivs.push($('#view-buy-history-div')[0])
        allDivs.push($('#stock-details-div')[0])
        allDivs.push($('#pay-plant-money-div')[0])
        allDivs.push($('#view-payment-history-div')[0])
        allDivs.push($('#add-new-customer-div')[0])
        allDivs.push($('#sale-gas-to-customer-div')[0])
        allDivs.push($('#stock-details-div')[0])     
        allDivs.push($('#market-details-div')[0])   
        allDivs.push($('#receive-payment-div')[0])   
        allDivs.push($('#receive-cylinders-div')[0])   
        allDivs.push($('#customer-details-div')[0])   
        
        updateMainWindowGUI()
    </script>    

</body>
</html>